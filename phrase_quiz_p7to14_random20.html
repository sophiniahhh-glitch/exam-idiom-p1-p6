<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <title>å¤§è€ƒæ­·å±†ç‰‡èªå…‹æ¼å­—ç·´ç¿’ï¼ˆç¬¬ä¸ƒï½ç¬¬åå››é é¡Œåº«ï¼Œéš¨æ©Ÿ 20 é¡Œï¼‰</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: #f3f4f6;
      color: #111827;
    }
    .wrapper {
      max-width: 1100px;
      margin: 24px auto 32px;
      padding: 0 12px;
    }
    .card {
      background: #ffffff;
      border-radius: 18px;
      padding: 20px 22px 22px;
      box-shadow: 0 12px 32px rgba(15,23,42,0.14);
      border: 1px solid rgba(148,163,184,0.4);
    }
    h1 {
      margin: 0 0 4px;
      font-size: 26px;
      letter-spacing: 0.03em;
    }
    .subtitle {
      font-size: 15px;
      color: #6b7280;
      margin-bottom: 10px;
    }
    .controls {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-bottom: 14px;
      align-items: center;
    }
    button {
      border-radius: 999px;
      border: none;
      padding: 8px 16px;
      font-size: 15px;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      font-weight: 600;
      letter-spacing: 0.02em;
    }
    .primary { background: #2563eb; color: #ffffff; }
    .secondary { background: #e5e7eb; color: #111827; }
    .score-area {
      font-size: 16px;
      font-weight: 600;
      color: #2563eb;
      margin-left: auto;
      min-width: 150px;
      text-align: right;
    }
    hr {
      border: none;
      border-top: 1px solid #e5e7eb;
      margin: 12px 0;
    }
    #debug {
      font-size: 13px;
      color: #059669;
      margin-bottom: 6px;
    }
    .question {
      padding: 10px 10px;
      border-radius: 12px;
      border: 1px solid #e5e7eb;
      background: #f9fafb;
      margin-bottom: 8px;
    }
    .question-header {
      display: flex;
      justify-content: space-between;
      align-items: baseline;
      margin-bottom: 4px;
    }
    .q-number {
      font-size: 17px;
      font-weight: 700;
      color: #2563eb;
    }
    .q-tag {
      font-size: 11px;
      color: #6b7280;
      padding: 1px 6px;
      border-radius: 999px;
      background: #e5e7eb;
    }
    .q-text {
      font-size: 17px;
      line-height: 1.4;
      margin-bottom: 6px;
    }
    .options {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(230px, 1fr));
      gap: 4px;
      margin-top: 2px;
    }
    .option-label {
      display: flex;
      align-items: center;
      gap: 6px;
      cursor: pointer;
      background: #ffffff;
      border-radius: 999px;
      padding: 6px 10px;
      border: 1px solid #e5e7eb;
      font-size: 15px;
    }
    .option-label input[type="radio"] {
      transform: scale(1.1);
      accent-color: #2563eb;
    }
    #explanations {
      margin-top: 12px;
    }
    .explanation-item {
      margin-bottom: 8px;
      padding: 8px 9px;
      border-radius: 10px;
      border: 1px dashed #d1d5db;
      background: #ffffff;
      font-size: 14px;
    }
    .exp-header {
      display: flex;
      justify-content: space-between;
      align-items: baseline;
      margin-bottom: 2px;
    }
    .exp-title { font-weight: 600; }
    .exp-status.correct { color: #16a34a; font-weight: 600; }
    .exp-status.wrong { color: #dc2626; font-weight: 600; }
    .exp-status.missing { color: #6b7280; font-weight: 600; }
    .badge {
      display: inline-block;
      font-size: 11px;
      padding: 1px 6px;
      border-radius: 999px;
      margin-top: 3px;
      background: #e5e7eb;
      color: #374151;
    }
    .option-list {
      white-space: pre-line;
      margin-top: 3px;
    }
    @media (max-width: 720px) {
      .controls { flex-direction: column; align-items: flex-start; }
      .score-area { margin-left: 0; text-align: left; }
    }
  </style>
</head>
<body>
<div class="wrapper">
  <div class="card">
    <h1>å¤§è€ƒæ­·å±†ç‰‡èªå…‹æ¼å­—ç·´ç¿’ï¼ˆç¬¬ä¸ƒï½ç¬¬åå››é ï¼‰</h1>
    <div class="subtitle">âœ” é¡Œåº«ä¾†è‡ªæ–‡ä»¶ç¬¬ 7â€“14 é ç‰‡èªèˆ‡ä¾‹å¥ï¼ˆæŒ‡è€ƒéƒ¨åˆ†ï¼‰ï¼Œæ¯æ¬¡éš¨æ©Ÿç”¢ç”Ÿ 20 é¡Œï¼Œå››é¸ä¸€ï¼Œè‡ªå‹•æ‰¹æ”¹èˆ‡è©³è§£ã€‚</div>

    <div id="debug">âœ… JavaScript å·²å•Ÿå‹•ï¼Œå¦‚æœç­‰ä¸€ä¸‹æ²’æœ‰å‡ºç¾é¡Œç›®ï¼Œè«‹å†è·Ÿè€å¸«èªªã€‚</div>

    <div class="controls">
      <button class="secondary" onclick="newQuiz()">ğŸ”„ é‡æ–°æŠ½é¡Œ</button>
      <button class="primary" onclick="gradeQuiz()">âœ… äº¤å·æ‰¹æ”¹</button>
      <div class="score-area" id="score-area">å°šæœªä½œç­”</div>
    </div>

    <hr>

    <div id="questions"></div>
    <div id="explanations"></div>
  </div>
</div>

<script>
  // ç‰‡èªå­—å…¸ï¼ˆç¬¬ 7ï½14 é ï¼šæŒ‡è€ƒç‰‡èªï¼‰
  var phraseDict = {
    // 110 æŒ‡è€ƒ
    "wear out": "ç£¨æï¼›è€—ç›¡",
    "break through": "çªç ´ï¼›æ‰“ç ´",
    "heat up": "åŠ ç†±ï¼›è®Šç†±",
    "in short": "ç¸½è€Œè¨€ä¹‹ï¼›ç°¡è€Œè¨€ä¹‹",

    // 109 æŒ‡è€ƒ
    "serve as": "å……ç•¶ï¼›èµ·â€¦çš„ä½œç”¨",
    "fight for": "ç‚ºâ€¦è€Œæˆ°ï¼›çˆ­å–",
    "persist in": "å …æŒï¼›åŸ·æ„",
    "correspond to": "å°æ‡‰ï¼›ç¬¦åˆ",
    "toss out": "ä¸Ÿæ£„ï¼›æ‰”æ‰",
    "get off": "é›¢é–‹ï¼›ä¸‹è»Šï¼›å‹•èº«",
    "catch up": "è¶•ä¸Šï¼›è¿½ä¸Š",
    "carry on": "ç¹¼çºŒï¼›æŒçºŒ",

    // 108 æŒ‡è€ƒ
    "if any": "è‹¥æœ‰çš„è©±ï¼›å¦‚æœæœ‰çš„è©±",
    "among others": "å…¶ä¸­ï¼›å°¤å…¶æ˜¯",
    "at best": "å……å…¶é‡ï¼›é ‚å¤š",
    "at large": "é€é™æ³•å¤–ï¼›æ™®éåœ°",
    "in service": "æœå‹¤ä¸­ï¼›ä½¿ç”¨ä¸­",
    "by contrast": "ç›¸æ¯”ä¹‹ä¸‹",
    "under control": "åœ¨æŒæ§ä¹‹ä¸­",

    // 107 æŒ‡è€ƒ
    "check out": "æª¢æŸ¥ï¼›æŸ¥çœ‹",
    "watch over": "ä¿è­·ï¼›ç…§é¡§",
    "speak of": "è«‡åˆ°ï¼›è«–åŠ",
    "trade with": "èˆ‡â€¦è²¿æ˜“",
    "in spite of": "å„˜ç®¡",
    "as a result of": "ç”±æ–¼ï¼›å› ç‚º",
    "to the best of": "å°±â€¦æ‰€åŠï¼›ç›¡â€¦æ‰€èƒ½",
    "for the sake of": "ç‚ºäº†ï¼›ç”±æ–¼",

    // 106 æŒ‡è€ƒ
    "put up with": "å®¹å¿ï¼›å¿å—",
    "crack down on": "æ‰“æ“Šï¼›åš´åŠ å–ç· ",
    "give in to": "å±ˆæœï¼›å‘â€¦è®“æ­¥",
    "look out for": "ç•™å¿ƒï¼›æ³¨æ„å°‹æ‰¾ï¼›ç…§é¡§",
    "subject to": "å—åˆ°â€¦çš„å½±éŸ¿ï¼›å—åˆ¶æ–¼",
    "accustomed to": "ç¿’æ…£æ–¼",
    "blessed with": "åœ¨â€¦æ–¹é¢æœ‰ç¦ï¼›è¢«è³œäºˆâ€¦",
    "familiar with": "å°â€¦ç†Ÿæ‚‰",

    // 105 æŒ‡è€ƒ
    "long before": "æ—©åœ¨â€¦ä¹‹å‰ï¼›å¾ˆä¹…ä»¥å‰",
    "close to": "æ¥è¿‘ï¼›é è¿‘",
    "aside from": "é™¤æ­¤ä¹‹å¤–ï¼›é™¤äº†â€¦ä¹‹å¤–",
    "soon after": "ä¸ä¹…ä¹‹å¾Œ",
    "in addition to": "é™¤â€¦ä¹‹å¤–ï¼ˆé‚„ï¼‰",
    "with respect to": "é—œæ–¼ï¼›è‡³æ–¼",

    // 104 æŒ‡è€ƒ
    "cater to": "è¿åˆï¼›æ»¿è¶³éœ€æ±‚",
    "depend on": "ä¾è³´ï¼›å–æ±ºæ–¼",
    "go after": "è¿½è¶•ï¼›è¿½é€ï¼›è¬€æ±‚",
    "identify with": "èªåŒï¼›èˆ‡â€¦ç”¢ç”Ÿå…±é³´",
    "above all": "æœ€é‡è¦çš„æ˜¯ï¼›å°¤å…¶",
    "as it appears": "çœ‹èµ·ä¾†ï¼›å¦‚è¡¨é¢ä¸Šæ‰€è¦‹",
    "to some extent": "åœ¨æŸç¨®ç¨‹åº¦ä¸Š",
    "come across": "é‡è¦‹ï¼›å¶ç„¶ç¢°åˆ°",
    "sweep through": "å¸­æ²ï¼›è¿…é€Ÿå‚³é",

    // 103 æŒ‡è€ƒ
    // in short å·²åœ¨ 110 æŒ‡è€ƒå‡ºç¾ï¼Œæ²¿ç”¨

    // 102 æŒ‡è€ƒ
    "by all means": "å¥½çš„ï¼›ç•¶ç„¶ï¼›è«‹å„˜ç®¡",
    "as a result": "çµæœï¼›å› æ­¤",
    "on the other hand": "å¦ä¸€æ–¹é¢",
    "out of luck": "é‹æ°£ä¸å¥½ï¼›ä¸èµ°é‹",
    "in the dark": "è¢«è’™åœ¨é¼“è£¡ï¼›ä¸€ç„¡æ‰€çŸ¥",
    "off the record": "ä¸å…¬é–‹çš„ï¼›éæ­£å¼çš„",
    "on the rise": "æ­£åœ¨ä¸Šå‡ï¼›æ­£åœ¨å¢åŠ ",
    "so that": "ä»¥ä¾¿ï¼›ç‚ºäº†",
    "as soon as": "ä¸€â€¦å°±â€¦",
    "in case of": "ä»¥é˜²ï¼›è¬ä¸€",
    "ever since": "å¾â€¦ä»¥ä¾†",
    "warm up": "æš–èº«ï¼›ç†±èº«",

    // 101 æŒ‡è€ƒ
    "so much as": "ç”šè‡³æ–¼ï¼›é€£â€¦éƒ½ï¼ˆä¸ï¼‰",
    "as well as": "ä»¥åŠï¼›é™¤äº†â€¦ä¹‹å¤–é‚„",
    "on behalf of": "ä»£è¡¨",
    "in this regard": "åœ¨é€™æ–¹é¢ï¼›å°±é€™ä¸€é»è€Œè¨€",
    "one on one": "ä¸€å°ä¸€",
    "on one's own": "ç¨è‡ªï¼›é è‡ªå·±",
    "by and large": "å¤§é«”ä¸Šï¼›ç¸½çš„ä¾†èªª",
    "opposed to": "åå°ï¼›èˆ‡â€¦å°ç«‹",
    "fight over": "ç‚ºâ€¦çˆ­åµï¼›çˆ­å¥ª",
    "battle for": "ç‚ºâ€¦æˆ°é¬¥ï¼›çˆ­å–",
    "compete against": "èˆ‡â€¦ç«¶çˆ­",
    "head for": "æœâ€¦å‰é€²",
    "back up": "å‚™ä»½ï¼›æ”¯æŒ",
    "call out": "å¤§è²å‘¼å–Šï¼›å«å–Š",
    "pass on": "æ”¾æ£„ï¼›å‚³é",

    // 100 æŒ‡è€ƒ
    "at fault": "æœ‰è²¬ä»»ï¼›æœ‰éŒ¯",
    "on call": "å¾…å‘½ï¼›éš¨å«éš¨åˆ°",
    "in tears": "æµè‘—æ·šï¼›å“­è‘—",
    "off guard": "æ¯«ç„¡é˜²å‚™ï¼›æªæ‰‹ä¸åŠ",
    "over and over": "ä¸€éåˆä¸€éï¼›åè¦†åœ°",
    "as usual": "ä¸€å¦‚å¾€å¸¸ï¼›ç…§ä¾‹",
    "in some cases": "åœ¨æŸäº›æƒ…æ³ä¸‹",
    "to be frank": "è€å¯¦èªª",
    "with the help of": "åœ¨â€¦çš„å¹«åŠ©ä¸‹",
    "in the presence of": "åœ¨â€¦é¢å‰ï¼›æœ‰â€¦åœ¨å ´",
    "on top of": "é™¤äº†â€¦ä¹‹å¤–ï¼›åœ¨â€¦ä¹‹ä¸Š",
    "in place of": "ä»£æ›¿ï¼›å–ä»£"
  };

  // é¡Œåº«ï¼šä¾åŸä¾‹å¥æŒ–ç©ºç‰‡èª
  var allQuestions = [
    // 110 æŒ‡è€ƒ
    { id: 1, text: "Jim goes jogging every morning, so his sneakers ____ quickly.", answer: "wear out" },
    { id: 2, text: "Firefighters ____ the door to save the little boy.", answer: "break through" },
    { id: 3, text: "Friction with the atmosphere will cause a meteoroid to ____ and burn while traveling at high speed.", answer: "heat up" },
    { id: 4, text: "We have a lot to go over in this meeting. ____, we are behind schedule, and the boss is not happy.", answer: "in short" },

    // 109 æŒ‡è€ƒ
    { id: 5, text: "The box will ____ a desk for now.", answer: "serve as" },
    { id: 6, text: "The workers protest to ____ their rights.", answer: "fight for" },
    { id: 7, text: "The actor ____ doing his own stunts.", answer: "persist in" },
    { id: 8, text: "This graph ____ the economic growth rate of the country.", answer: "correspond to" },
    { id: 9, text: "Tim ____ his old clothes.", answer: "toss out" },
    { id: 10, text: "We should ____ by 8:00 so that we can catch our flight home.", answer: "get off" },
    { id: 11, text: "If we take the shortcut, we might be able to ____ them in an hour.", answer: "catch up" },
    { id: 12, text: "After the scientist died, his students ____ his research.", answer: "carry on" },

    // 108 æŒ‡è€ƒ
    { id: 13, text: "Feel free to ask questions, ____.", answer: "if any" },
    { id: 14, text: "Amy and Bob, ____, showed up on Friday to support the baseball team of their school.", answer: "among others" },
    { id: 15, text: "The watch is worth $1000 ____.", answer: "at best" },
    { id: 16, text: "The bank robbers are still ____.", answer: "at large" },
    { id: 17, text: "The number you have dialed is not ____.", answer: "in service" },
    { id: 18, text: "Teresa is talkative and outgoing. ____, her sister is quiet and shy.", answer: "by contrast" },
    { id: 19, text: "Don't worry. The situation is ____.", answer: "under control" },

    // 107 æŒ‡è€ƒ
    { id: 20, text: "I ____ the report to make sure all the numbers are correct.", answer: "check out" },
    { id: 21, text: "The father sat beside the swimming pool to ____ the kids.", answer: "watch over" },
    { id: 22, text: "They vowed to never ____ the accident again.", answer: "speak of" },
    { id: 23, text: "The Chinese ____ people in Central Asia through the Silk Road.", answer: "trade with" },
    { id: 24, text: "She goes to work ____ her back pain.", answer: "in spite of" },
    { id: 25, text: "____ the typhoon, the flight is canceled.", answer: "as a result of" },
    { id: 26, text: "I will help the team ____ my ability.", answer: "to the best of" },
    { id: 27, text: "The single mother works three jobs ____ her children.", answer: "for the sake of" },

    // 106 æŒ‡è€ƒ
    { id: 28, text: "I can't ____ the noise any longer.", answer: "put up with" },
    { id: 29, text: "The government is determined to ____ drug trafficking across the border.", answer: "crack down on" },
    { id: 30, text: "We will never ____ the enemies.", answer: "give in to" },
    { id: 31, text: "People in my neighborhood ____ each other.", answer: "look out for" },
    { id: 32, text: "Arrivals ____ quarantine must not take public transport.", answer: "subject to" },
    { id: 33, text: "I'm ____ getting up at 8:30 AM.", answer: "accustomed to" },
    { id: 34, text: "Not everyone is ____ a beautiful voice.", answer: "blessed with" },
    { id: 35, text: "You can skip over this chapter if you are ____ this programming language.", answer: "familiar with" },

    // 105 æŒ‡è€ƒ
    { id: 36, text: "The thief got away ____ the police arrived.", answer: "long before" },
    { id: 37, text: "I live ____ the library.", answer: "close to" },
    { id: 38, text: "____ cartoons, I also love watching movies.", answer: "aside from" },
    { id: 39, text: "His parents died in a car accident ____ he was born.", answer: "soon after" },
    { id: 40, text: "____ English, I also speak a little bit of Japanese.", answer: "in addition to" },
    { id: 41, text: "____ the pollution issue, the mayor said that works are in progress to solve that problem.", answer: "with respect to" },

    // 104 æŒ‡è€ƒ
    { id: 42, text: "The fitness gym ____ the needs of senior citizens.", answer: "cater to" },
    { id: 43, text: "The effect of this therapy ____ the patient's health condition and age.", answer: "depend on" },
    { id: 44, text: "It was a priority for DEA to start ____ Pablo Escobar.", answer: "go after" },
    { id: 45, text: "Many readers can ____ the characters in the novel.", answer: "identify with" },
    { id: 46, text: "____, you should recognize your strengths and weaknesses.", answer: "above all" },
    { id: 47, text: "Everything is not ____.", answer: "as it appears" },
    { id: 48, text: "Although I don't like his attitude, I agree with him ____.", answer: "to some extent" },
    { id: 49, text: "I ____ my ex on Tinder yesterday.", answer: "come across" },
    { id: 50, text: "The plague quickly ____ the continent.", answer: "sweep through" },

    // 103 æŒ‡è€ƒ
    { id: 51, text: "The exam is tomorrow and I haven't studied anything yet. ____, I'm doomed.", answer: "in short" },

    // 102 æŒ‡è€ƒ
    { id: 52, text: "'Do you mind if I invite a few friends?' '____.'", answer: "by all means" },
    { id: 53, text: "____ the typhoon, the flight is canceled.", answer: "as a result" },
    { id: 54, text: "Rita is very outgoing. ____, her brother is quite shy.", answer: "on the other hand" },
    { id: 55, text: "Jack was ____ today during the hunt.", answer: "out of luck" },
    { id: 56, text: "She kept her family ____ about the decision to get married.", answer: "in the dark" },
    { id: 57, text: "Our conversation here is supposed to be ____.", answer: "off the record" },
    { id: 58, text: "The oil price has been ____ in recent months.", answer: "on the rise" },
    { id: 59, text: "He has to get up early ____ he won't be late for school.", answer: "so that" },
    { id: 60, text: "He locked the door ____ he entered my office.", answer: "as soon as" },
    { id: 61, text: "She took an umbrella ____ rain.", answer: "in case of" },
    { id: 62, text: "He has been depressed ____ his mother died.", answer: "ever since" },
    { id: 63, text: "Make sure you ____ properly before jumping into the pool.", answer: "warm up" },

    // 101 æŒ‡è€ƒ
    { id: 64, text: "He had not spoken ____ a single word to me before.", answer: "so much as" },
    { id: 65, text: "Tom, ____ his brother, is an outstanding athlete.", answer: "as well as" },
    { id: 66, text: "She goes to work ____ her back pain.", answer: "in spite of" },
    { id: 67, text: "The lawyer spoke ____ his client.", answer: "on behalf of" },
    { id: 68, text: "He is very sensitive ____.", answer: "in this regard" },
    { id: 69, text: "I need to talk to Josh ____.", answer: "one on one" },
    { id: 70, text: "He finished the project ____.", answer: "on one's own" },
    { id: 71, text: "____, the party went well.", answer: "by and large" },
    { id: 72, text: "John's parents were ____ his marriage with Mary.", answer: "opposed to" },
    { id: 73, text: "Tom and Mary always ____ trivial matters.", answer: "fight over" },
    { id: 74, text: "Ten teams are ____ glory in this competition.", answer: "battle for" },
    { id: 75, text: "Hell's Kitchen is a reality TV show where top chefs ____ each other.", answer: "compete against" },
    { id: 76, text: "The hotel is a good place to stay overnight if you are ____ the airport the next day.", answer: "head for" },
    { id: 77, text: "You should ____ your files regularly.", answer: "back up" },
    { id: 78, text: "I ____ for help when I realized I was trapped in the bathroom.", answer: "call out" },
    { id: 79, text: "Sara decided to ____ the job offer.", answer: "pass on" },

    // 100 æŒ‡è€ƒ
    { id: 80, text: "Sometimes it is hard to determine who is ____ in a car accident involving multiple cars.", answer: "at fault" },
    { id: 81, text: "Many systems need to be available around the clock, so some engineers have to be ____ for support.", answer: "on call" },
    { id: 82, text: "His joke had us laughing so hard that we were ____.", answer: "in tears" },
    { id: 83, text: "The teacher caught me ____ with a quiz.", answer: "off guard" },
    { id: 84, text: "My neighbor plays Baby Shark ____.", answer: "over and over" },
    { id: 85, text: "____, I got up at 8 this morning.", answer: "as usual" },
    { id: 86, text: "The statement is true only ____.", answer: "in some cases" },
    { id: 87, text: "____, I don't really care about what happened between you and your girlfriend.", answer: "to be frank" },
    { id: 88, text: "____ the police officer, I got my wallet back.", answer: "with the help of" },
    { id: 89, text: "People tend to feel stressed ____ someone in authority.", answer: "in the presence of" },
    { id: 90, text: "I just lost my job, and ____ that my car broke down on my way home.", answer: "on top of" },
    { id: 91, text: "Maple syrup can also be used ____ sugar in many recipes.", answer: "in place of" }
  ];

  function shuffle(arr) {
    for (var i = arr.length - 1; i > 0; i--) {
      var j = Math.floor(Math.random() * (i + 1));
      var tmp = arr[i];
      arr[i] = arr[j];
      arr[j] = tmp;
    }
    return arr;
  }

  function pickRandomOptions(correct) {
    var allPhrases = Object.keys(phraseDict);
    var pool = [];
    for (var i = 0; i < allPhrases.length; i++) {
      if (allPhrases[i] !== correct) pool.push(allPhrases[i]);
    }
    shuffle(pool);
    var distractors = pool.slice(0, 3);
    var options = [correct].concat(distractors);
    shuffle(options);
    return options;
  }

  var currentQuestions = [];
  var currentOptionsMap = {};

  function newQuiz() {
    var copied = allQuestions.slice();
    shuffle(copied);
    currentQuestions = copied.slice(0, 20);
    renderQuestions();
  }

  function renderQuestions() {
    var container = document.getElementById("questions");
    container.innerHTML = "";
    currentOptionsMap = {};
    for (var i = 0; i < currentQuestions.length; i++) {
      var q = currentQuestions[i];
      var qDiv = document.createElement("div");
      qDiv.className = "question";

      var header = document.createElement("div");
      header.className = "question-header";
      var numSpan = document.createElement("span");
      numSpan.className = "q-number";
      numSpan.textContent = "Q" + (i + 1);
      var tagSpan = document.createElement("span");
      tagSpan.className = "q-tag";
      tagSpan.textContent = "ç‰‡èªå…‹æ¼å­—";
      header.appendChild(numSpan);
      header.appendChild(tagSpan);

      var textDiv = document.createElement("div");
      textDiv.className = "q-text";
      textDiv.textContent = q.text;

      var optionsDiv = document.createElement("div");
      optionsDiv.className = "options";

      var opts = pickRandomOptions(q.answer);
      currentOptionsMap[q.id] = opts;

      for (var k = 0; k < opts.length; k++) {
        var opt = opts[k];
        var label = document.createElement("label");
        label.className = "option-label";

        var input = document.createElement("input");
        input.type = "radio";
        input.name = "q" + q.id;
        input.value = opt;

        var span = document.createElement("span");
        span.textContent = opt;

        label.appendChild(input);
        label.appendChild(span);
        optionsDiv.appendChild(label);
      }

      qDiv.appendChild(header);
      qDiv.appendChild(textDiv);
      qDiv.appendChild(optionsDiv);
      container.appendChild(qDiv);
    }
    document.getElementById("explanations").innerHTML = "";
    document.getElementById("score-area").textContent = "å°šæœªä½œç­”";
  }

  function gradeQuiz() {
    if (!currentQuestions || currentQuestions.length === 0) return;
    var correctCount = 0;
    var explanationsDiv = document.getElementById("explanations");
    explanationsDiv.innerHTML = "";

    for (var i = 0; i < currentQuestions.length; i++) {
      var q = currentQuestions[i];
      var selected = document.querySelector('input[name="q' + q.id + '"]:checked');
      var userAns = selected ? selected.value : null;
      var isCorrect = (userAns === q.answer);
      if (isCorrect) correctCount++;

      var expItem = document.createElement("div");
      expItem.className = "explanation-item";

      var header = document.createElement("div");
      header.className = "exp-header";

      var title = document.createElement("div");
      title.className = "exp-title";
      title.textContent = "Q" + (i + 1) + " è§£ç­”";

      var status = document.createElement("div");
      status.className = "exp-status";
      if (!userAns) {
        status.textContent = "æœªä½œç­”";
        status.className += " missing";
      } else if (isCorrect) {
        status.textContent = "ç­”å° âœ…";
        status.className += " correct";
      } else {
        status.textContent = "ç­”éŒ¯ âŒ";
        status.className += " wrong";
      }

      header.appendChild(title);
      header.appendChild(status);

      var lineSentence = document.createElement("div");
      if (q.text.indexOf("____") >= 0) {
        lineSentence.textContent = q.text.replace("____", q.answer);
      } else {
        lineSentence.textContent = q.text + "ï¼ˆæ­£è§£ï¼š" + q.answer + "ï¼‰";
      }

      var lineCorrect = document.createElement("div");
      var zhCorrect = phraseDict[q.answer] || "";
      lineCorrect.textContent = "æ­£ç¢ºç‰‡èªï¼š" + q.answer + "ï¼ˆ" + zhCorrect + "ï¼‰";

      var lineUser = document.createElement("div");
      if (!userAns) {
        lineUser.textContent = "ä½ çš„ä½œç­”ï¼šæœªé¸æ“‡ã€‚";
      } else {
        var zhUser = phraseDict[userAns] || "";
        lineUser.textContent = "ä½ çš„ä½œç­”ï¼š" + userAns + "ï¼ˆ" + zhUser + "ï¼‰";
      }

      var badge = document.createElement("div");
      badge.className = "badge";
      badge.textContent = "å››å€‹é¸é …çš„ä¸­æ–‡èˆ‡èªªæ˜";

      var optsList = document.createElement("div");
      optsList.className = "option-list";
      var opts = currentOptionsMap[q.id] || [];
      var listText = "";
      for (var j = 0; j < opts.length; j++) {
        var o = opts[j];
        var zh = phraseDict[o] || "";
        var mark = (o === q.answer) ? "â­" : "â€¢";
        listText += mark + " " + o + "ï¼š" + zh;
        if (j !== opts.length - 1) listText += "\n";
      }
      optsList.textContent = listText;

      expItem.appendChild(header);
      expItem.appendChild(lineSentence);
      expItem.appendChild(lineCorrect);
      expItem.appendChild(lineUser);
      expItem.appendChild(badge);
      expItem.appendChild(optsList);
      explanationsDiv.appendChild(expItem);
    }

    document.getElementById("score-area").textContent =
      "å¾—åˆ†ï¼š" + correctCount + " / " + currentQuestions.length;
  }

  // è¼‰å…¥é é¢è‡ªå‹•æŠ½ 20 é¡Œ
  window.onload = function() {
    newQuiz();
  };
</script>
</body>
</html>
